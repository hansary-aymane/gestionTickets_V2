{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/stadium.service\";\nimport * as i2 from \"@angular/common\";\nfunction StaduimComponent_ul_3_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 11);\n    i0.ɵɵlistener(\"click\", function StaduimComponent_ul_3_li_1_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const v_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.OnGetStadium(v_r3));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", v_r3 == ctx_r2.currentVille ? \"active\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", v_r3.nom, \" \");\n  }\n}\nfunction StaduimComponent_ul_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 9);\n    i0.ɵɵtemplate(1, StaduimComponent_ul_3_li_1_Template, 2, 2, \"li\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.villes._embedded.villes);\n  }\n}\nfunction StaduimComponent_ul_9_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 14)(1, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function StaduimComponent_ul_9_li_1_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const st_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.OnGetSalles(st_r7));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const st_r7 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", st_r7 == ctx_r6.currentStadium ? \"active\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(st_r7.nom);\n  }\n}\nfunction StaduimComponent_ul_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 12);\n    i0.ɵɵtemplate(1, StaduimComponent_ul_9_li_1_Template, 3, 2, \"li\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.stadiums._embedded.stadiums);\n  }\n}\nclass StaduimComponent {\n  constructor(stadiumservice) {\n    this.stadiumservice = stadiumservice;\n  }\n  ngOnInit() {\n    this.stadiumservice.getVilles().subscribe(data => {\n      this.villes = data;\n    }, error => {\n      console.log(error);\n    });\n  }\n  // @ts-ignore\n  OnGetStadium(v) {\n    console.log(\"###############\" + v);\n    this.currentVille = v;\n    this.salles = undefined;\n    this.stadiumservice.getStadium(v).subscribe(data => {\n      this.stadiums = data;\n    }, err => {\n      console.log(err);\n    });\n  }\n  // @ts-ignore\n  OnGetSalles(st) {\n    this.currentStadium = st;\n    this.stadiumservice.getSalles(st).subscribe(data => {\n      this.salles = data;\n      // @ts-ignore\n      this.salles._embedded.salles.forEach(salle => {\n        this.stadiumservice.getProjectionsEvent(salle).subscribe(data => {\n          salle.projections = data;\n        }, err => {\n          console.log(err);\n        });\n      });\n    }, err => {\n      console.log(err);\n    });\n  }\n}\nStaduimComponent.ɵfac = function StaduimComponent_Factory(t) {\n  return new (t || StaduimComponent)(i0.ɵɵdirectiveInject(i1.StadiumService));\n};\nStaduimComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StaduimComponent,\n  selectors: [[\"app-staduim\"]],\n  decls: 10,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-md-3\"], [\"class\", \"list-group\", 4, \"ngIf\"], [1, \"col-md-9\"], [1, \"panel\", \"panel-default\"], [1, \"panel-heading\"], [1, \"panel-body\"], [\"class\", \"nav nav-pills \", 4, \"ngIf\"], [1, \"list-group\"], [\"class\", \"list-group-item clickable\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", \"clickable\", 3, \"ngClass\", \"click\"], [1, \"nav\", \"nav-pills\"], [\"class\", \"clickable\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"clickable\", 3, \"ngClass\"], [3, \"click\"]],\n  template: function StaduimComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵtemplate(3, StaduimComponent_ul_3_Template, 2, 1, \"ul\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6);\n      i0.ɵɵtext(7, \"Liste des Stades\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵtemplate(9, StaduimComponent_ul_9_Template, 2, 1, \"ul\", 8);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.villes);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.stadiums);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { StaduimComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","StaduimComponent_ul_3_li_1_Template_li_click_0_listener","restoredCtx","ɵɵrestoreView","_r5","v_r3","$implicit","ctx_r4","ɵɵnextContext","ɵɵresetView","OnGetStadium","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r2","currentVille","ɵɵadvance","ɵɵtextInterpolate1","nom","ɵɵtemplate","StaduimComponent_ul_3_li_1_Template","ctx_r0","villes","_embedded","StaduimComponent_ul_9_li_1_Template_a_click_1_listener","_r9","st_r7","ctx_r8","OnGetSalles","ctx_r6","currentStadium","ɵɵtextInterpolate","StaduimComponent_ul_9_li_1_Template","ctx_r1","stadiums","StaduimComponent","constructor","stadiumservice","ngOnInit","getVilles","subscribe","data","error","console","log","v","salles","undefined","getStadium","err","st","getSalles","forEach","salle","getProjectionsEvent","projections","ɵɵdirectiveInject","i1","StadiumService","selectors","decls","vars","consts","template","StaduimComponent_Template","rf","ctx","StaduimComponent_ul_3_Template","StaduimComponent_ul_9_Template"],"sources":["C:\\Users\\Belmoudden El hachmy\\Desktop\\JEE\\cinema1 - Copy\\AngularCinema\\src\\app\\staduim\\staduim.component.ts","C:\\Users\\Belmoudden El hachmy\\Desktop\\JEE\\cinema1 - Copy\\AngularCinema\\src\\app\\staduim\\staduim.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { StadiumService } from '../services/stadium.service';\r\n\r\n@Component({\r\n  selector: 'app-staduim',\r\n  templateUrl: './staduim.component.html',\r\n  styleUrls: ['./staduim.component.css']\r\n})\r\nexport class StaduimComponent implements OnInit{\r\n  // @ts-ignore\r\n  public villes;\r\n\r\n  // @ts-ignore\r\n  public stadiums;\r\n  // @ts-ignore\r\n  public salles;\r\n\r\n  // @ts-ignore\r\n  public currentVille;\r\n\r\n  // @ts-ignore\r\n  public currentStadium;\r\n  // @ts-ignore\r\n  public currentProjectionEvent;\r\n  // @ts-ignore\r\n  private ticket;\r\n\r\n  // @ts-ignore\r\n  public selectedTickets;\r\n  constructor(public stadiumservice:StadiumService) {\r\n  }\r\n  ngOnInit(): void {\r\n    this.stadiumservice.getVilles()\r\n      .subscribe(data=>{\r\n        this.villes=data;\r\n      },error => {\r\n        console.log(error);\r\n      })\r\n  }\r\n  // @ts-ignore\r\n  OnGetStadium(v): void {\r\n    console.log(\"###############\"+v)\r\n    this.currentVille=v;\r\n    this.salles=undefined;\r\n    this.stadiumservice.getStadium(v)\r\n      .subscribe(data=>{\r\n        this.stadiums=data;\r\n      },err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n  // @ts-ignore\r\n  OnGetSalles(st): void {\r\n    this.currentStadium=st;\r\n    this.stadiumservice.getSalles(st)\r\n      .subscribe(data=>{\r\n        this.salles=data;\r\n        // @ts-ignore\r\n        this.salles._embedded.salles.forEach(salle=>{\r\n          this.stadiumservice.getProjectionsEvent(salle)\r\n            .subscribe(data=>{\r\n              salle.projections=data;\r\n            },err => {\r\n              console.log(err);\r\n            })\r\n        })\r\n      },err => {\r\n        console.log(err);\r\n      })\r\n\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div class = \"row\">\r\n      <div class =\"col-md-3\">\r\n        <ul *ngIf=\"villes\" class=\"list-group\">\r\n          <li [ngClass]= \"v==currentVille?'active':''\" *ngFor=\"let v of villes._embedded.villes\" class=\"list-group-item clickable\"\r\n          (click)=\"OnGetStadium(v)\">\r\n            {{v.nom}}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class =\"col-md-9\">\r\n        <div class = \"panel panel-default\">\r\n          <div class=\"panel-heading\">Liste des Stades</div>\r\n          <div class = \"panel-body\">\r\n            <ul *ngIf=\"stadiums\" class = \"nav nav-pills \">\r\n              <li *ngFor=\"let st of stadiums._embedded.stadiums\" [ngClass]= \"st==currentStadium?'active':''\" class=\"clickable\">\r\n                <a (click)=\"OnGetSalles(st)\">{{st.nom}}</a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n    </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}